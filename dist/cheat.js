(()=>{var e=class{element;render(e){e.appendChild(this.element)}renderChild(e){e(this.element)}},t=class extends e{element;constructor(e){super(),this.element=document.createElement("button"),this.element.innerHTML=e,this.element.style.backgroundColor="#0000",this.element.style.color="#fff",this.element.style.border="0",this.element.style.fontFamily="inherit",this.element.style.fontSize="1.2rem",this.element.style.cursor="pointer"}onClick(e){this.element.addEventListener("click",e)}},n=class extends e{element;constructor(){super(),this.element=document.createElement("div"),this.element.style.display="flex",this.element.style.flexWrap="wrap",this.element.style.gap="0.5rem",this.element.style.padding="0.5rem",this.element.style.border="1px solid #ccc",this.element.style.flexDirection="column",this.element.style.alignItems="center",this.element.style.justifyContent="center",this.element.style.margin="0.5rem",this.element.style.width="fit-content"}modifyStyle(e){e(this.element.style)}},s=class extends e{element;constructor(e,t){super(),this.element=document.createElement("input"),this.element.type=e,this.element.style.width="5rem",this.element.style.backgroundColor="#0000",this.element.style.color="#fff",this.element.style.border="0",this.element.style.fontFamily="inherit",this.element.style.fontSize="1.2rem",t&&this.element.classList.add(t),this.element.addEventListener("keydown",(e=>e.stopPropagation())),this.element.addEventListener("keyup",(e=>e.stopPropagation())),this.element.addEventListener("keypress",(e=>e.stopPropagation()))}setValue(e){this.element.value=String(e)}onChangeStr(e){this.element.addEventListener("input",(()=>{e(this.element.value)})),this.element.addEventListener("change",(()=>{e(this.element.value)})),this.element.addEventListener("keydown",(()=>{e(this.element.value)}))}onChangeNum(e){this.element.addEventListener("input",(()=>{e(Number(this.element.value))})),this.element.addEventListener("change",(()=>{e(Number(this.element.value))})),this.element.addEventListener("keydown",(()=>{e(Number(this.element.value))}))}},r=class extends e{element;entries;expanded;constructor(e){super(),this.element=document.createElement("div"),this.element.style.padding="1rem",this.element.style.marginBottom="1rem",this.element.style.border="1px solid #ccc";const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.gap="1.5rem",t.style.cursor="pointer",t.style.userSelect="none";const n=document.createElement("h2");n.innerText=e,n.style.margin="0",t.appendChild(n),this.expanded=document.createElement("span"),this.expanded.innerText="+",this.expanded.style.fontSize="2rem",this.expanded.style.lineHeight="1rem",this.expanded.style.fontWeight="bold",this.expanded.style.fontFamily="monospace",t.appendChild(this.expanded),t.addEventListener("click",(()=>{"none"===this.entries.style.display?(this.entries.style.display="flex",this.expanded.innerText="-"):(this.entries.style.display="none",this.expanded.innerText="+")})),this.element.appendChild(t),this.entries=document.createElement("div"),this.entries.style.display="none",this.entries.style.padding="1rem",this.entries.style.marginTop="1rem",this.entries.style.border="1px solid #ccc",this.element.appendChild(this.entries)}renderChild(e){e(this.entries)}modifyStyle(e){e(this.entries.style)}},l=class extends e{element;textElement;constructor(e){super(),this.element=document.createElement("span"),this.textElement=document.createElement("span");const t=document.createElement("style");t.innerHTML="\n      a, a:visited, a:active {\n        color: #fff;\n      }\n\n      kbd {\n        border: 1px solid;\n        border-radius: 0.25rem;\n        padding: 0.25rem;\n      }\n    ",this.element.appendChild(t),this.textElement.innerHTML=e,this.element.appendChild(this.textElement)}modifyStyle(e){e(this.textElement.style)}},i=document.createElement("img");i.src="overworld-sprite.png",i.style.display="none",document.body.appendChild(i);var o=document.createElement("img");o.src="shared-sprite.png",o.style.display="none",document.body.appendChild(o);var d=(e,t)=>{let n;switch(t){case"error":console.error(e),n="#c30";break;case"info":console.info(e),n="#07c";break;case"warn":console.warn(e),n="#da0";break;case"success":console.log(e),n="#080"}const s=document.createElement("div");s.style.position="fixed",s.style.bottom="1rem",s.style.width="100vw",s.style.display="flex",s.style.justifyContent="center",s.style.zIndex="9999",s.style.pointerEvents="none",s.style.height="fit-content",s.style.padding="0 1rem";const r=document.createElement("div");r.style.backgroundColor=n,r.style.color="#fff",r.style.padding="1rem",r.style.borderRadius="0.5rem",r.style.border="2px solid #fff",r.style.transition="all 0.33s",r.style.opacity="0",r.innerText=e,s.appendChild(r),document.body.appendChild(s),setTimeout((()=>{r.style.opacity="1"}),100),setTimeout((()=>{r.style.opacity="0"}),5e3),setTimeout((()=>{document.body.removeChild(s)}),5500)},a=!1,m=!1,c=e=>{m||e.altKey&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a?f():g())},h=document.createElement("div");h.style.position="fixed",h.style.top="0",h.style.left="0",h.style.width="calc(100vw - 4rem)",h.style.height="calc(100vh - 4rem)",h.style.backgroundColor="#000a",h.style.color="#fff",h.style.zIndex="9999",h.style.padding="2rem",h.style.display="none",h.style.opacity="0",h.style.transition="all 0.33s",h.style.overflowY="auto",h.style.fontFamily="PixelMplus10, sans-serif",document.body.appendChild(h);var y=null,p=null,u=null,g=()=>{m||(m=!0,h.style.display="block",a=!0,h.tabIndex=-1,h.focus(),h.click(),y=window.addEventListener("keydown",(e=>{e.preventDefault(),e.stopPropagation(),c(e)})),p=window.addEventListener("keyup",(e=>{e.preventDefault(),e.stopPropagation()})),u=window.addEventListener("keypress",(e=>{e.preventDefault(),e.stopPropagation()})),setTimeout((()=>{h.style.opacity="1"}),100),setTimeout((()=>{m=!1}),600))},f=()=>{m||(m=!0,h.style.opacity="0",a=!1,window.removeEventListener("keydown",y),window.removeEventListener("keyup",p),window.removeEventListener("keypress",u),document.querySelector("canvas").tabIndex=-1,document.querySelector("canvas")?.focus(),document.querySelector("canvas")?.click(),setTimeout((()=>{h.style.display="none",m=!1}),600))},w=()=>{d("Cheat menu loaded!","success")},b=()=>{d("Cheat menu already loaded!","info")},v=()=>{window.menuLoaded=!0,window.addEventListener("keydown",c)},E=()=>window.menuLoaded,x=e=>{e.render(h)},C=class extends e{element;constructor(e,t,n,s,r){super(),this.element=document.createElement("img"),this.element.style.imageRendering="pixelated";const l=new Image,i=document.createElement("canvas"),o=i.getContext("2d");l.onload=()=>{i.width=s,i.height=r,o.drawImage(l,t,n,s,r,0,0,s,r),this.element.src=i.toDataURL()},l.src=e}modifyStyle(e){e(this.element.style)}},S={sports:{marathon:{sheet:"overworld",x:160,y:3103,width:19,height:18},rugby:{sheet:"overworld",x:182,y:3103,width:19,height:18},pingpong:{sheet:"overworld",x:1685,y:3347,width:19,height:18},climbing:{sheet:"overworld",x:3216,y:2918,width:19,height:18},skate:{sheet:"overworld",x:453,y:3331,width:19,height:18},swim:{sheet:"overworld",x:1751,y:3332,width:19,height:18},archery:{sheet:"overworld",x:2485,y:1886,width:19,height:18}},quests:{'"Wind Stopper"':{sheet:"overworld",x:129,y:3294,width:34,height:33}},teams:{red:{sheet:"overworld",x:1774,y:3294,width:32,height:34},blue:{sheet:"overworld",x:156,y:3208,width:32,height:34},green:{sheet:"overworld",x:1347,y:3348,width:18,height:25},yellow:{sheet:"overworld",x:3091,y:3320,width:25,height:34}}},k=(e,t)=>{const n=S[e][t];return new C(n.sheet+"-sprite.png",n.x,n.y,n.width,n.height)};if(E())b();else{v();const e=new l("press <kbd>Alt</kbd> + <kbd>Shift</kbd> to close<br><br>");e.modifyStyle((e=>{e.color="#aaa",e.fontSize="0.8rem"})),x(e);const i=new r("Sports");i.modifyStyle((e=>e.justifyContent="center")),["marathon","rugby","pingpong","climbing","skate","swim","archery"].forEach((e=>{const t=new n,r=k("sports",e);r.modifyStyle((e=>e.height="5rem"));const o=new l("Score<br>");o.modifyStyle((e=>{e.fontFamily="inherit",e.fontSize="1.5rem"}));const d=new s("number","score");d.setValue(localStorage.getItem("KITSUNE_"+e+"_score")||"0"),d.onChangeNum((t=>localStorage.setItem("KITSUNE_"+e+"_score",String(t))));const a=new l("<br>Dangos<br>");a.modifyStyle((e=>{e.fontFamily="inherit",e.fontSize="1.5rem"}));const m=new s("number","dangos");m.setValue(localStorage.getItem("KITSUNE_"+e+"_rating")||"0"),m.onChangeNum((t=>localStorage.setItem("KITSUNE_"+e+"_rating",String(t)))),t.renderChild((e=>r.render(e))),t.renderChild((e=>o.render(e))),t.renderChild((e=>d.render(e))),t.renderChild((e=>a.render(e))),t.renderChild((e=>m.render(e))),i.renderChild((e=>t.render(e)))})),i.renderChild((e=>{const s=new n;s.modifyStyle((e=>{e.justifyContent="center",e.flexDirection="row",e.gap="1rem"}));const r=new t("Get all scrolls");r.onClick((()=>{["marathon","rugby","pingpong","climbing","skate","swim","archery"].forEach((e=>localStorage.setItem("KITSUNE_"+e+"_rating","3"))),Array.from(document.getElementsByClassName("dangos")).forEach((e=>e.value="3"))}));const l=new t("Reset all");l.onClick((()=>{const e=["marathon","rugby","pingpong","climbing","skate","swim","archery"];Object.keys(localStorage).filter((t=>e.some((e=>t.startsWith("KITSUNE_"+e))))).forEach((e=>localStorage.removeItem(e))),Array.from(document.getElementsByClassName("score")).forEach((e=>e.value="0")),Array.from(document.getElementsByClassName("dangos")).forEach((e=>e.value="0"))})),s.renderChild((e=>r.render(e))),s.renderChild((e=>l.render(e))),s.render(e)})),x(i);const o=new r("Teams");o.modifyStyle((e=>e.justifyContent="center")),["blue","red","green","yellow"].forEach((e=>{const s=new n,r=k("teams",e);r.modifyStyle((e=>e.height="5rem"));const l=new t("Join");l.onClick((()=>localStorage.setItem("KITSUNE_PLAYER_TEAM",`"${e}"`))),s.renderChild((e=>r.render(e))),s.renderChild((e=>l.render(e))),o.renderChild((e=>s.render(e)))})),x(o);const d=new r("Misc");d.modifyStyle((e=>e.justifyContent="center"));const a=new n;a.modifyStyle((e=>{e.justifyContent="center",e.flexDirection="row",e.gap="1rem"}));const m=new t("Toggle cherry blossom petals");if(m.onClick((()=>{const e="true"===(localStorage.getItem("KITSUNE_outro_VIDEO_SEEN")||"false");localStorage.setItem("KITSUNE_outro_VIDEO_SEEN",String(!e))})),a.renderChild((e=>m.render(e))),d.renderChild((e=>a.render(e))),x(d),window.codeMod){x(new l("codemod enabled (full functionality)<br><br>"))}else{const e=new l("codemod disabled (only limited functionality)<br>"),t=new l('learn about codemod <a href="https://github.com/Le0X8/kitsune-cheat-menu/blob/main/codemod.md" target="_blank">here</a><br><br>');x(e),x(t)}const c=new l('<a href="https://github.com/Le0X8/kitsune/blob/main/credits.md" target="_blank">Credits</a><br><br>'),h=new l('Created by <a href="https://github.com/Le0X8" target="_blank">Leonard Lesinski</a>');h.modifyStyle((e=>e.fontFamily='"Cascadia Code", Consolas, Hack, "Noto Mono", monospace')),x(c),x(h),w()}})();